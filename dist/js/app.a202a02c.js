(function(e){function t(t){for(var n,o,s=t[0],i=t[1],u=t[2],p=0,b=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var i=r[s];0!==c[i]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},c={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/Chat/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"07cc":function(e,t,r){},"0b34":function(e,t,r){},"1b3d":function(e,t,r){},"21fa":function(e,t,r){"use strict";r("0b34")},"316a":function(e,t,r){"use strict";r("82c5")},"3d20":function(e,t,r){},"441e":function(e,t,r){"use strict";r("a8ed")},"4ed4":function(e,t,r){"use strict";r("1b3d")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function c(e,t,r,c,a,o){var s=Object(n["y"])("router-view");return Object(n["t"])(),Object(n["d"])(s)}r("b0c0"),r("ac1f"),r("5319");var a=r("5c40"),o=r("6c02"),s=r("4f60"),i={setup:function(){var e=Object(o["d"])();Object(o["c"])();Object(a["y"])((function(){s["a"].auth().onAuthStateChanged((function(t){"Messeges"!==e.currentRoute._value.name&&"Profile"!==e.currentRoute._value.name||t||e.replace("/login")}))}))}},u=(r("dfe3"),r("6b0d")),l=r.n(u);const p=l()(i,[["render",c]]);var b=p,d={class:"login-container"},f=Object(n["g"])("div",{class:"blur-background"},null,-1),g={class:"form-wrapper"},m=Object(n["g"])("h2",null,"Login",-1),h={class:"email"},j=Object(n["g"])("label",{for:"email",class:"label-email"},"Email",-1),O={class:"password"},v=Object(n["g"])("label",{for:"password"},"Password",-1),w={class:"account"},y=Object(n["i"])("Forget your password?"),k=Object(n["i"])("You do not have an account?"),U=Object(n["g"])("span",null,"or",-1),x=Object(n["g"])("i",{class:"fab fa-google"},null,-1),_=Object(n["i"])("Login with Google"),C=[x,_],R=Object(n["g"])("i",{class:"fab fa-facebook-f"},null,-1),E=Object(n["i"])("Login with Fcaebook"),P=[R,E];function N(e,t,r,c,a,o){var s=Object(n["y"])("router-link");return Object(n["t"])(),Object(n["f"])("div",d,[f,Object(n["g"])("div",g,[m,Object(n["g"])("form",{onSubmit:t[3]||(t[3]=Object(n["H"])((function(){return e.Login&&e.Login.apply(e,arguments)}),["prevent"])),class:"form",id:"loginForm"},[Object(n["g"])("div",h,[Object(n["F"])(Object(n["g"])("input",{type:"email",id:"email",class:Object(n["p"])(["input",{emptyInput:""!==a.email}]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e})},null,2),[[n["C"],a.email]]),j]),Object(n["g"])("div",O,[Object(n["F"])(Object(n["g"])("input",{type:"password",id:"password",class:Object(n["p"])(["input",{emptyInput:""!==a.password}]),"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e})},null,2),[[n["C"],a.password]]),v]),Object(n["g"])("button",{onClick:t[2]||(t[2]=function(e){return o.loginWtihEmail()}),type:"submit",form:"loginForm",value:"Login",class:"submit"})],32),Object(n["g"])("div",w,[Object(n["j"])(s,{to:"/recover"},{default:Object(n["E"])((function(){return[y]})),_:1}),Object(n["j"])(s,{to:"/signup"},{default:Object(n["E"])((function(){return[k]})),_:1})]),U,Object(n["g"])("button",{onClick:t[4]||(t[4]=function(){return o.loginWithGoogle&&o.loginWithGoogle.apply(o,arguments)}),class:"google"},C),Object(n["g"])("button",{onClick:t[5]||(t[5]=function(){return o.loginWithFacebook&&o.loginWithFacebook.apply(o,arguments)}),class:"facebook"},P)])])}var T=r("1da1"),W=(r("96cf"),r("e71f")),I=(r("24ee"),r("ea7b")),S=r("854a"),L=r.n(S);function A(){return F.apply(this,arguments)}function F(){return F=Object(T["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(o["d"])(),t=new s["a"].auth.GoogleAuthProvider,e.next=4,s["a"].auth().signInWithPopup(t).then(function(){var e=Object(T["a"])(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(W["b"])(Object(W["e"])(),"users",t.user.uid),e.next=3,Object(W["c"])(r);case 3:if(n=e.sent,c={fullName:t.user.displayName,email:t.user.email,id:t.user.uid,photoURL:t.user.photoURL},!n.exists()){e.next=10;break}L.a["success"]("Welcome ".concat(t.user.displayName),"Successful"),setTimeout((function(){location.replace("/messeges")}),1500),e.next=12;break;case 10:return e.next=12,Object(W["i"])(Object(W["b"])(Object(W["e"])(),"users",t.user.uid),c).then((function(){L.a["success"]("Welcome ".concat(t.user.displayName),"Successful"),setTimeout((function(){location.replace("/messeges")}),1500)})).catch((function(e){L.a["error"](e,"Error")}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function M(){return q.apply(this,arguments)}function q(){return q=Object(T["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(o["d"])(),t=new s["a"].auth.FacebookAuthProvider,e.next=4,s["a"].auth().signInWithPopup(t).then(function(){var e=Object(T["a"])(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(W["b"])(Object(W["e"])(),"users",t.user.uid),e.next=3,Object(W["c"])(r);case 3:if(n=e.sent,c={fullName:t.user.displayName,email:t.user.email,id:t.user.uid,photoURL:t.user.photoURL},!n.exists()){e.next=10;break}L.a["success"]("Welcome ".concat(t.user.displayName),"Successful"),setTimeout((function(){location.replace("/messeges")}),1500),e.next=12;break;case 10:return e.next=12,Object(W["i"])(Object(W["b"])(Object(W["e"])(),"users",t.user.uid),c).then((function(){L.a["success"]("Welcome ".concat(t.user.displayName),"Successful"),setTimeout((function(){location.replace("/messeges")}),1500)})).catch((function(e){L.a["error"](e,"Error")}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function G(){s["a"].auth().signOut().then().catch((function(e){L.a["error"](e,"Error")}))}var V={signInWithGoogle:A,signInWithFacebook:M,logout:G},D={name:"LoginComponent",data:function(){return{email:"",password:"",alert:!1,registered:!0,router:Object(o["d"])()}},methods:{loginWtihEmail:function(){var e=this;s["a"].auth().signInWithEmailAndPassword(this.email,this.password).then((function(){setTimeout((function(){e.router.replace("/messeges")}),1500)})).catch((function(e){"auth/invalid-email"==e.code||"auth/user-not-found"==e.code?(L.a["error"]("Invalid email or does not exist","Error"),L.a.options=V.toastrOptions):(L.a["error"]("The password is invalid or the user does not have a password","Error"),L.a.options=V.toastrOptions)}))},loginWithGoogle:function(){V.signInWithGoogle()},loginWithFacebook:function(){V.signInWithFacebook()}}};r("5a79");const H=l()(D,[["render",N]]);var J=H,$=(r("00b4"),{class:"sign-up-container"}),z=Object(n["g"])("div",{class:"blur-background"},null,-1),B={class:"form-wrapper"},K={class:"form-container"},Y={class:"line-one"},Q={class:"name input-wrapper"},X=Object(n["g"])("label",{for:"name"},"Name",-1),Z={class:"last-name input-wrapper"},ee=Object(n["g"])("label",{for:"last-name"},"Last Name",-1),te={class:"line-two"},re={class:"email input-wrapper"},ne=Object(n["g"])("label",{for:"email"},"Email",-1),ce={class:"photo-user input-wrapper"},ae=Object(n["g"])("label",{class:"label-input-file",for:"photo_user"},"Choose a file",-1),oe={class:"line-three"},se={class:"password input-wrapper"},ie=Object(n["g"])("label",{for:"password"},"Password",-1),ue={class:"request-password input-wrapper"},le=Object(n["g"])("label",{for:"request-password"},"Request Password",-1),pe={class:"actions"},be={class:"account"},de=Object(n["i"])("Do you already have an account?"),fe=Object(n["g"])("span",null,"or",-1),ge=Object(n["g"])("i",{class:"fab fa-google"},null,-1),me=Object(n["i"])("Sign Up with Google"),he=[ge,me],je=Object(n["g"])("i",{class:"fab fa-facebook-f"},null,-1),Oe=Object(n["i"])("Sign Up with Facebook"),ve=[je,Oe];function we(e,t,r,c,a,o){var s=Object(n["y"])("router-link");return Object(n["t"])(),Object(n["f"])("div",$,[z,Object(n["g"])("div",B,[Object(n["g"])("h2",{onClick:t[0]||(t[0]=function(){return o.test&&o.test.apply(o,arguments)})},"Sign Up"),Object(n["g"])("div",K,[Object(n["g"])("form",{class:"form",id:"form",onSubmit:t[7]||(t[7]=Object(n["H"])((function(){return e.signup&&e.signup.apply(e,arguments)}),["prevent"]))},[Object(n["g"])("div",Y,[Object(n["g"])("div",Q,[Object(n["F"])(Object(n["g"])("input",{type:"text",id:"name",class:Object(n["p"])(["input",{emptyInput:""!==a.name}]),"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.name=e}),required:""},null,2),[[n["C"],a.name]]),X]),Object(n["g"])("div",Z,[Object(n["F"])(Object(n["g"])("input",{type:"text",id:"last-name",class:Object(n["p"])(["input",{emptyInput:""!==a.lastName}]),"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.lastName=e}),required:""},null,2),[[n["C"],a.lastName]]),ee])]),Object(n["g"])("div",te,[Object(n["g"])("div",re,[Object(n["F"])(Object(n["g"])("input",{type:"email",id:"email",class:Object(n["p"])(["input",{emptyInput:""!==a.email}]),"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.email=e}),required:""},null,2),[[n["C"],a.email]]),ne]),Object(n["g"])("div",ce,[Object(n["g"])("input",{type:"file",id:"photo_user",class:"input",onChange:t[4]||(t[4]=function(e){return o.selectedPhoto(e)}),accept:"image/png, image/gif, image/jpeg"},null,32),ae,Object(n["g"])("span",null,Object(n["A"])(a.photoName),1)])]),Object(n["g"])("div",oe,[Object(n["g"])("div",se,[Object(n["F"])(Object(n["g"])("input",{type:"password",id:"password",class:Object(n["p"])(["input",{emptyInput:""!==a.password}]),"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.password=e}),required:""},null,2),[[n["C"],a.password]]),ie]),Object(n["g"])("div",ue,[Object(n["F"])(Object(n["g"])("input",{type:"password",id:"request-password",class:Object(n["p"])(["input",{emptyInput:""!==a.requestPassword}]),"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.requestPassword=e}),required:""},null,2),[[n["C"],a.requestPassword]]),le])])],32)]),Object(n["g"])("div",pe,[Object(n["g"])("button",{onClick:t[8]||(t[8]=function(e){return o.clearInput()}),class:"cancel"}),Object(n["g"])("button",{onClick:t[9]||(t[9]=function(e){return o.signUpWithEmail()}),form:"form",type:"submit",value:"signup",class:"submit"})]),Object(n["g"])("div",be,[Object(n["j"])(s,{to:"/login"},{default:Object(n["E"])((function(){return[de]})),_:1})]),fe,Object(n["g"])("button",{onClick:t[10]||(t[10]=function(){return o.signUpWithGoogle&&o.signUpWithGoogle.apply(o,arguments)}),class:"google"},he),Object(n["g"])("button",{onClick:t[11]||(t[11]=function(){return o.signUpWithFacebook&&o.signUpWithFacebook.apply(o,arguments)}),class:"facebook"},ve)])])}r("99af");var ye={name:"SignUpComponent",data:function(){return{db:Object(W["e"])(),user_name:"",photo_url:"",email:"",password:"",lastName:"",name:"",requestPassword:"",selectedUserPhoto:"",selectedPhotoName:"",photoName:"selected item",router:Object(o["d"])()}},methods:{test:function(){V.test()},selectedPhoto:function(e){this.selectedUserPhoto=e.target.files[0],this.photoName=this.selectedUserPhoto.name},signUpWithEmail:function(){var e=this,t=s["a"].storage().ref();this.password===this.requestPassword?s["a"].auth().createUserWithEmailAndPassword(this.email,this.password).then(function(){var r=Object(T["a"])(regeneratorRuntime.mark((function r(n){var c,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(c="".concat(e.name," ").concat(e.lastName),a={fullName:c,email:e.email,id:n.user.uid,photoURL:""},""==e.selectedUserPhoto){r.next=5;break}return r.next=5,t.child("/photos/".concat(n.user.uid)).put(e.selectedUserPhoto).then(Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.child("/photos/".concat(n.user.uid)).getDownloadURL().then((function(e){a.photoURL=e})).catch((function(e){return L.a["error"](e,"An error has occurred")}));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){return L.a["error"](e,"An error has occurred")}));case 5:return r.next=7,Object(W["i"])(Object(W["b"])(e.db,"users",n.user.uid),a).then((function(){L.a["success"]("Welcome! ".concat(c),"Successful"),setTimeout((function(){e.router.replace("/messeges")}),1500)})).catch((function(e){L.a["error"](e,"Error")}));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(){L.a["error"]("The email address is already in use by another account","Error")})):L.a["error"]("The email or password do not match","Error")},signUpWithGoogle:function(){V.signInWithGoogle()},signUpWithFacebook:function(){V.signInWithFacebook()},clearInput:function(){this.lastName="",this.name="",this.email="",this.password="",this.requestPassword="",this.requestEmail="",this.router.replace("/login")}}};r("21fa");const ke=l()(ye,[["render",we]]);var Ue=ke;function xe(e,t,r,c,a,o){var s=Object(n["y"])("NavComponent"),i=Object(n["y"])("ChatComponent");return Object(n["t"])(),Object(n["f"])(n["a"],null,[Object(n["j"])(s),Object(n["j"])(i)],64)}var _e={class:"chat-container"},Ce=Object(n["g"])("span",{class:"blur-background"},null,-1),Re={class:"chat-wrapper"},Ee=Object(n["g"])("h2",null,"Users",-1),Pe={class:"all-users-wrapper"},Ne=["onClick"],Te=["src"],We={class:"user"},Ie={class:"user-name"},Se={class:"user-data"},Le={class:"actual-contact"},Ae=["src"],Fe={key:0,class:"messeges-container"},Me={class:"text"},qe={class:"time"},Ge={id:"scrble",ref:"scrollable"},Ve={class:"input-text"},De=Object(n["g"])("i",{class:"far fa-paper-plane"},null,-1),He=[De],Je=Object(n["g"])("h3",null,"Select one user to chat",-1),$e=[Je];function ze(e,t,r,c,a,o){return Object(n["t"])(),Object(n["f"])("div",_e,[Ce,Object(n["g"])("div",Re,[Object(n["g"])("div",{class:Object(n["p"])(["users-area",{"toggle-user":!0===a.barsToggle}])},[Ee,Object(n["g"])("div",Pe,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(a.users,(function(e){return Object(n["t"])(),Object(n["f"])("div",{class:"user-wrapper",key:e.id,onClick:function(t){return o.selectUserToChat(e)}},[Object(n["g"])("img",{draggable:"false",class:"user-photo",src:e.photoURL,onError:t[0]||(t[0]=function(){return o.imgError&&o.imgError.apply(o,arguments)}),alt:"profile photo"},null,40,Te),Object(n["g"])("div",We,[Object(n["g"])("h3",Ie,Object(n["A"])(e.fullName),1),Object(n["g"])("p",Se,Object(n["A"])(e.email),1)])],8,Ne)})),128))])],2),Object(n["g"])("span",null,[Object(n["g"])("i",{class:"fal fa-bars",onClick:t[1]||(t[1]=function(){return o.toggleUsers&&o.toggleUsers.apply(o,arguments)})})]),a.selectedUser?(Object(n["t"])(),Object(n["f"])("div",{key:0,class:Object(n["p"])(["messege-area-wrapper",{toggle:!0===a.barsToggle}])},[Object(n["g"])("div",Le,[Object(n["g"])("img",{src:a.photo_url,onError:t[2]||(t[2]=function(){return o.imgError&&o.imgError.apply(o,arguments)}),alt:"profile"},null,40,Ae),Object(n["g"])("div",null,[Object(n["g"])("h2",null,Object(n["A"])(a.user_name),1),Object(n["g"])("h3",null,Object(n["A"])(a.user_email),1)])]),a.currentUser?(Object(n["t"])(),Object(n["f"])("div",Fe,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(a.usersMesseges,(function(e){return Object(n["t"])(),Object(n["f"])("div",{class:"messege-wrapper",key:e.key},[e.transmitter===a.currentUser&&e.receive===a.user_id||e.transmitter===a.user_id&&e.receive===a.currentUser?(Object(n["t"])(),Object(n["f"])("div",{key:0,class:Object(n["p"])(["messege",e.transmitter===a.currentUser?"current-user":"messege"])},[Object(n["g"])("p",Me,Object(n["A"])(e.messege),1),Object(n["g"])("h4",qe,Object(n["A"])(e.time),1)],2)):Object(n["e"])("",!0)])})),128)),Object(n["g"])("div",Ge,null,512)])):Object(n["e"])("",!0),Object(n["g"])("div",Ve,[Object(n["F"])(Object(n["g"])("input",{onKeyup:t[3]||(t[3]=Object(n["G"])((function(e){return o.sendMessege()}),["enter"])),"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.messegeToSend=e}),type:"text",placeholder:"Messege"},null,544),[[n["C"],a.messegeToSend]]),Object(n["g"])("span",{onClick:t[5]||(t[5]=function(){return o.sendMessege&&o.sendMessege.apply(o,arguments)}),class:"send"},He)])],2)):(Object(n["t"])(),Object(n["f"])("div",{key:1,class:Object(n["p"])(["no-selected-user",{toggle:!0===a.barsToggle}])},$e,2))])])}var Be=r("5530"),Ke=(r("d3b7"),r("159b"),{name:"ChatComponent",data:function(){return{auth:Object(I["a"])(),selectedUser:!1,users:[],defaultImageError:r("c121"),user_name:"",photo_url:"",user_email:"",currentUser:"",user_id:"",time:"",db:Object(W["e"])(),messegeToSend:"",dataMessege:[],usersMesseges:[],barsToggle:!1}},methods:{toggleUsers:function(){this.barsToggle?this.barsToggle=!1:this.barsToggle=!0},getCurrentUser:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(I["b"])(e.auth,(function(t){t&&(e.currentUser=t.uid)}));case 2:case"end":return t.stop()}}),t)})))()},selectUserToChat:function(e){var t=this;this.barsToggle=!1,this.selectedUser=!0,this.user_name=e.fullName,this.user_email=e.email,this.photo_url=e.photoURL,this.user_id=e.id,setTimeout((function(){t.$refs["scrollable"].scrollIntoView({behavior:"smooth"})}),300)},setTime:function(e){var t=e.getHours(),r=e.getMinutes(),n=t>=12?"pm":"am";t%=12,t=t||12,r=r<10?"0"+r:r;var c=t+":"+r+" "+n;return c},sendMessege:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataMessege={receive:e.user_id,transmitter:e.currentUser,messege:e.messegeToSend,time:e.setTime(new Date),createdAt:Date.now()},e.usersMesseges=[],t.next=4,Object(W["i"])(Object(W["b"])(Object(W["a"])(e.db,"messeges")),e.dataMessege).then((function(){e.messegeToSend="",e.$refs["scrollable"].scrollIntoView({behavior:"smooth"})})).catch((function(e){L.a["error"](e,"Error")}));case 4:case"end":return t.stop()}}),t)})))()},getDocs:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=Object(W["a"])(e.db,"users"),n=Object(W["h"])(r,Object(W["g"])("fullName","asc")),Object(W["f"])(n,(function(t){t.docs.forEach((function(t){t.id!=e.currentUser&&e.users.push(Object(Be["a"])(Object(Be["a"])({},t.data()),{},{id:t.id}))}))}));case 3:case"end":return t.stop()}}),t)})))()},uploadMesseges:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object(W["a"])(e.db,"messeges"),n=Object(W["h"])(r,Object(W["g"])("createdAt","asc")),t.next=4,Object(W["f"])(n,(function(t){e.usersMesseges=[],t.docs.forEach((function(t){e.usersMesseges.push(t.data())})),!0===e.selectedUser&&setTimeout((function(){e.$refs["scrollable"].scrollIntoView({behavior:"smooth"})}),300)}));case 4:case"end":return t.stop()}}),t)})))()},imgError:function(e){e.target.src=this.defaultImageError}},mounted:function(){this.getCurrentUser(),this.getDocs(),this.uploadMesseges()}});r("4ed4");const Ye=l()(Ke,[["render",ze]]);var Qe=Ye,Xe={class:"nav-container"},Ze={"data-content":"profile"},et=Object(n["g"])("i",{class:"fas fa-user-circle"},null,-1),tt={"data-content":"chat"},rt=Object(n["g"])("i",{class:"far fa-comment-dots"},null,-1),nt=Object(n["g"])("i",{class:"fal fa-sign-out-alt"},null,-1),ct=[nt];function at(e,t,r,c,a,o){var s=Object(n["y"])("router-link");return Object(n["t"])(),Object(n["f"])("div",Xe,[Object(n["g"])("ul",null,[Object(n["g"])("li",Ze,[Object(n["j"])(s,{to:"/profile"},{default:Object(n["E"])((function(){return[et]})),_:1})]),Object(n["g"])("li",tt,[Object(n["j"])(s,{to:"/messeges"},{default:Object(n["E"])((function(){return[rt]})),_:1})]),Object(n["g"])("li",{"data-content":"logout",onClick:t[0]||(t[0]=function(e){return o.Logout()})},ct)])])}var ot={name:"NavComponent",methods:{Logout:function(){V.logout()}}};r("316a");const st=l()(ot,[["render",at]]);var it=st,ut={name:"Chat",components:{ChatComponent:Qe,NavComponent:it}};const lt=l()(ut,[["render",xe]]);var pt=lt;function bt(e,t,r,c,a,o){var s=Object(n["y"])("NavComponent"),i=Object(n["y"])("ProfileComponent");return Object(n["t"])(),Object(n["f"])(n["a"],null,[Object(n["j"])(s),Object(n["j"])(i)],64)}var dt={class:"profile-container"},ft=Object(n["g"])("span",{class:"blur-background"},null,-1),gt={key:0,class:"actions"},mt={class:"profile-wrapper"},ht=Object(n["g"])("h4",null,"Your profile:",-1),jt={class:"photo-row"},Ot=Object(n["g"])("td",{class:"first-column"},"Photo:",-1),vt={for:"file"},wt=["src"],yt=Object(n["g"])("span",null,[Object(n["g"])("i",{class:"fal fa-upload"})],-1),kt=Object(n["g"])("td",{class:"first-column"},"Name:",-1),Ut=Object(n["g"])("td",{class:"first-column"},"Email:",-1);function xt(e,t,r,c,a,o){return Object(n["t"])(),Object(n["f"])("div",dt,[ft,a.edit?(Object(n["t"])(),Object(n["f"])("div",gt,[Object(n["g"])("button",{onClick:t[0]||(t[0]=function(){return o.cancel&&o.cancel.apply(o,arguments)}),class:"cancel-button"},"Cancel"),Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return o.savePhoto&&o.savePhoto.apply(o,arguments)}),class:"save-button"},"Save")])):Object(n["e"])("",!0),Object(n["g"])("div",mt,[ht,Object(n["g"])("table",null,[Object(n["g"])("tr",jt,[Ot,Object(n["g"])("td",null,[Object(n["g"])("input",{type:"file",id:"file",onChange:t[2]||(t[2]=function(e){return o.changePhoto(e)})},null,32),Object(n["g"])("label",vt,[Object(n["g"])("img",{draggable:"false",src:a.photo_url,onError:t[3]||(t[3]=function(){return o.imgError&&o.imgError.apply(o,arguments)}),alt:"profile_photo"},null,40,wt),yt])])]),Object(n["g"])("tr",null,[kt,Object(n["g"])("td",null,Object(n["A"])(a.user_name),1)]),Object(n["g"])("tr",null,[Ut,Object(n["g"])("td",null,Object(n["A"])(a.user_email),1)])])])])}var _t={name:"ProfileComponent",data:function(){return{current_user:[],user_name:"",photo_url:"",user_email:"",user_uid:"",selectedPhoto:"",edit:!1,db:Object(W["e"])(),defaultImageError:r("c121")}},methods:{cancel:function(){this.edit=!1,this.selectedPhoto=null},changePhoto:function(e){this.edit=!0,this.selectedPhoto=e.target.files[0]},savePhoto:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=s["a"].storage().ref(),n=e.current_user[0].id,c={fullName:e.user_name,email:e.user_email,id:n,photoURL:""},""==e.selectedPhoto){t.next=6;break}return t.next=6,r.child("/photos/".concat(n)).put(e.selectedPhoto).then(Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.child("/photos/".concat(n)).getDownloadURL().then(function(){var t=Object(T["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c.photoURL=r,t.next=3,Object(W["i"])(Object(W["b"])(e.db,"users",n),c).then((function(){L.a["success"]("","Successful"),e.photo_url=e.current_user[0].photoURL,e.edit=!1,setTimeout((function(){location.reload()}),500)})).catch((function(e){L.a["error"](e,"Error")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return L.a["error"](e,"An error has occurred 2")}));case 2:case"end":return t.stop()}}),t)})))).catch((function(e){return L.a["error"](e,"An error has occurred 1")}));case 6:case"end":return t.stop()}}),t)})))()},getUserData:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(I["a"])(),t.next=3,Object(I["b"])(n,(function(t){t&&(e.user_uid=t.uid)}));case 3:return t.next=5,Object(W["d"])(Object(W["a"])(Object(W["e"])(),"users"));case 5:c=t.sent,c.forEach((function(t){t.id===e.user_uid&&e.current_user.push(t.data())})),e.user_name=e.current_user[0].fullName,e.user_email=e.current_user[0].email,e.photo_url=e.current_user[0].photoURL,""===e.current_user[0].photoURL&&(e.photo_url=r("c121"));case 11:case"end":return t.stop()}}),t)})))()},imgError:function(e){e.target.src=this.defaultImageError}},mounted:function(){this.getUserData()}};r("441e");const Ct=l()(_t,[["render",xt]]);var Rt=Ct,Et={name:"Chat",components:{ProfileComponent:Rt,NavComponent:it}};const Pt=l()(Et,[["render",bt]]);var Nt=Pt,Tt={class:"recover-container"},Wt=Object(n["g"])("div",{class:"blur-background"},null,-1),It={class:"recover-wrapper"},St=Object(n["g"])("h2",null,"Enter your email to reset your password",-1),Lt={class:"input-wrapper"},At=Object(n["g"])("label",{for:"email"},"Email",-1);function Ft(e,t,r,c,a,o){var s=Object(n["y"])("router-link");return Object(n["t"])(),Object(n["f"])("div",Tt,[Wt,Object(n["g"])("div",It,[St,Object(n["g"])("div",Lt,[Object(n["F"])(Object(n["g"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),class:Object(n["p"])({emptyInput:""!==a.email})},null,2),[[n["C"],a.email]]),At]),Object(n["g"])("button",{class:"send-button",onClick:t[1]||(t[1]=function(){return o.recoverPassword&&o.recoverPassword.apply(o,arguments)})},"click")]),Object(n["j"])(s,{to:"/login",class:"return"})])}r("466d");var Mt={name:"Recover",data:function(){return{email:"",match:!1}},methods:{recoverPassword:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["d"])(Object(W["a"])(Object(W["e"])(),"users"));case 2:r=t.sent,r.forEach((function(t){if(t.data().email===e.email){e.match=!1;var r=Object(I["a"])();Object(I["c"])(r,e.email).then((function(){L.a["success"]("","Succesfully")})).catch((function(e){var t=e.message;L.a["error"](t,"Error")}))}else e.match=!0})),e.match&&L.a["error"]("The email does not exist","Error");case 5:case"end":return t.stop()}}),t)})))()}}};r("7012");const qt=l()(Mt,[["render",Ft]]);var Gt=qt,Vt={class:"error-container"},Dt=Object(n["h"])('<span class="bg"></span><span class="block"></span><span class="block"></span><span class="block"></span><span class="block"></span><h1>Error 404</h1>',6),Ht=[Dt];function Jt(e,t,r,c,a,o){return Object(n["t"])(),Object(n["f"])("div",Vt,Ht)}var $t={name:"404"};r("c56f");const zt=l()($t,[["render",Jt]]);var Bt=zt,Kt=[{path:"/",name:"Auth",redirect:"/login",component:J},{path:"/login",name:"Login",component:J},{path:"/signup",name:"SignUp",component:Ue},{path:"/messeges",name:"Messeges",component:pt},{path:"/profile",name:"Profile",component:Nt},{path:"/recover",name:"Recover",component:Gt},{path:"/:catchMatch(.*)*",name:"404",component:Bt}],Yt=Object(o["a"])({history:Object(o["b"])("/Chat/"),routes:Kt}),Qt=Yt,Xt=(r("588e"),r("256a"),{apiKey:"AIzaSyA75OOJWRN3n3B-_3hEireV569whygQ17o",authDomain:"chat-production-75509.firebaseapp.com",projectId:"chat-production-75509",storageBucket:"chat-production-75509.appspot.com",messagingSenderId:"493644836494",appId:"1:493644836494:web:6072110bfb38144f77a3df"});s["a"].initializeApp(Xt),Object(n["c"])(b).use(Qt).mount("#app")},"5a79":function(e,t,r){"use strict";r("07cc")},"693f":function(e,t,r){},7012:function(e,t,r){"use strict";r("693f")},"82c5":function(e,t,r){},a8ed:function(e,t,r){},c121:function(e,t,r){e.exports=r.p+"img/user.04b2bd95.png"},c56f:function(e,t,r){"use strict";r("3d20")},ca68:function(e,t,r){},dfe3:function(e,t,r){"use strict";r("ca68")}});
//# sourceMappingURL=app.a202a02c.js.map