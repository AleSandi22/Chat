(function(e){function t(t){for(var r,o,s=t[0],i=t[1],u=t[2],p=0,b=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==c[i]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/Chat/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07cc":function(e,t,n){},"0b34":function(e,t,n){},"1b3d":function(e,t,n){},"21fa":function(e,t,n){"use strict";n("0b34")},"316a":function(e,t,n){"use strict";n("82c5")},"3d20":function(e,t,n){},"441e":function(e,t,n){"use strict";n("a8ed")},"4ed4":function(e,t,n){"use strict";n("1b3d")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(e,t,n,c,a,o){var s=Object(r["y"])("router-view");return Object(r["t"])(),Object(r["d"])(s)}n("b0c0"),n("ac1f"),n("5319");var a=n("5c40"),o=n("6c02"),s=n("4f60"),i={setup:function(){var e=Object(o["d"])();Object(o["c"])();Object(a["y"])((function(){s["a"].auth().onAuthStateChanged((function(t){"Messeges"!==e.currentRoute._value.name&&"Profile"!==e.currentRoute._value.name||t||e.replace("/login")}))}))}},u=(n("dfe3"),n("6b0d")),l=n.n(u);const p=l()(i,[["render",c]]);var b=p,f={class:"login-container"},g=Object(r["g"])("div",{class:"blur-background"},null,-1),d={class:"form-wrapper"},m=Object(r["g"])("h2",null,"Login",-1),h={class:"email"},j=Object(r["g"])("label",{for:"email",class:"label-email"},"Email",-1),O={class:"password"},v=Object(r["g"])("label",{for:"password"},"Password",-1),w={class:"account"},y=Object(r["i"])("Forget your password?"),k=Object(r["i"])("You do not have an account?"),U=Object(r["g"])("span",null,"or",-1),_=Object(r["g"])("i",{class:"fab fa-google"},null,-1),x=Object(r["i"])("Login with Google"),C=[_,x],P=Object(r["g"])("i",{class:"fab fa-facebook-f"},null,-1),R=Object(r["i"])("Login with Fcaebook"),E=[P,R];function N(e,t,n,c,a,o){var s=Object(r["y"])("router-link");return Object(r["t"])(),Object(r["f"])("div",f,[g,Object(r["g"])("div",d,[m,Object(r["g"])("form",{onSubmit:t[3]||(t[3]=Object(r["H"])((function(){return e.Login&&e.Login.apply(e,arguments)}),["prevent"])),class:"form",id:"loginForm"},[Object(r["g"])("div",h,[Object(r["F"])(Object(r["g"])("input",{type:"email",id:"email",class:Object(r["p"])(["input",{emptyInput:""!==a.email}]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e})},null,2),[[r["C"],a.email]]),j]),Object(r["g"])("div",O,[Object(r["F"])(Object(r["g"])("input",{type:"password",id:"password",class:Object(r["p"])(["input",{emptyInput:""!==a.password}]),"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e})},null,2),[[r["C"],a.password]]),v]),Object(r["g"])("button",{onClick:t[2]||(t[2]=function(e){return o.loginWtihEmail()}),type:"submit",form:"loginForm",value:"Login",class:"submit"})],32),Object(r["g"])("div",w,[Object(r["j"])(s,{to:"/recover"},{default:Object(r["E"])((function(){return[y]})),_:1}),Object(r["j"])(s,{to:"/signup"},{default:Object(r["E"])((function(){return[k]})),_:1})]),U,Object(r["g"])("button",{onClick:t[4]||(t[4]=function(){return o.loginWithGoogle&&o.loginWithGoogle.apply(o,arguments)}),class:"google"},C),Object(r["g"])("button",{onClick:t[5]||(t[5]=function(){return o.loginWithFacebook&&o.loginWithFacebook.apply(o,arguments)}),class:"facebook"},E)])])}var W=n("1da1"),I=(n("96cf"),n("e71f")),T=(n("24ee"),n("ea7b")),S=n("854a"),L=n.n(S);function A(){return F.apply(this,arguments)}function F(){return F=Object(W["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new s["a"].auth.GoogleAuthProvider,e.next=3,s["a"].auth().signInWithPopup(t).then(function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(I["b"])(Object(I["e"])(),"users",t.user.uid),e.next=3,Object(I["c"])(n);case 3:if(r=e.sent,c={fullName:t.user.displayName,email:t.user.email,photoURL:t.user.photoURL},!r.exists()){e.next=10;break}L.a["success"]("Welcome ".concat(t.user.displayName),"Successful"),setTimeout((function(){location.replace("/messeges")}),1500),e.next=12;break;case 10:return e.next=12,Object(I["i"])(Object(I["b"])(Object(I["e"])(),"users",t.user.uid),c).then((function(){L.a["success"]("Welcome ".concat(t.user.displayName),"Successful"),setTimeout((function(){location.replace("/messeges")}),1500)})).catch((function(e){L.a["error"](e,"Error")}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function M(){return q.apply(this,arguments)}function q(){return q=Object(W["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new s["a"].auth.FacebookAuthProvider,e.next=3,s["a"].auth().signInWithPopup(t).then(function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(I["b"])(Object(I["e"])(),"users",t.user.uid),e.next=3,Object(I["c"])(n);case 3:if(r=e.sent,c={fullName:t.user.displayName,email:t.user.email,photoURL:t.user.photoURL},!r.exists()){e.next=10;break}L.a["success"]("Welcome ".concat(t.user.displayName),"Successful"),setTimeout((function(){location.replace("/messeges")}),1500),e.next=12;break;case 10:return e.next=12,Object(I["i"])(Object(I["b"])(Object(I["e"])(),"users",t.user.uid),c).then((function(){L.a["success"]("Welcome ".concat(t.user.displayName),"Successful"),setTimeout((function(){location.replace("/messeges")}),1500)})).catch((function(e){L.a["error"](e,"Error")}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function G(){s["a"].auth().signOut().then().catch((function(e){L.a["error"](e,"Error")}))}var V={signInWithGoogle:A,signInWithFacebook:M,logout:G},D={name:"LoginComponent",data:function(){return{email:"",password:"",alert:!1,registered:!0}},methods:{loginWtihEmail:function(){s["a"].auth().signInWithEmailAndPassword(this.email,this.password).then((function(){setTimeout((function(){location.replace("/messeges")}),1500)})).catch((function(e){"auth/invalid-email"==e.code||"auth/user-not-found"==e.code?(L.a["error"]("Invalid email or does not exist","Error"),L.a.options=V.toastrOptions):(L.a["error"]("The password is invalid or the user does not have a password","Error"),L.a.options=V.toastrOptions)}))},loginWithGoogle:function(){V.signInWithGoogle()},loginWithFacebook:function(){V.signInWithFacebook()}}};n("5a79");const H=l()(D,[["render",N]]);var J=H,$=(n("00b4"),{class:"sign-up-container"}),z=Object(r["g"])("div",{class:"blur-background"},null,-1),B={class:"form-wrapper"},K={class:"form-container"},Y={class:"line-one"},Q={class:"name input-wrapper"},X=Object(r["g"])("label",{for:"name"},"Name",-1),Z={class:"last-name input-wrapper"},ee=Object(r["g"])("label",{for:"last-name"},"Last Name",-1),te={class:"line-two"},ne={class:"email input-wrapper"},re=Object(r["g"])("label",{for:"email"},"Email",-1),ce={class:"photo-user input-wrapper"},ae=Object(r["g"])("label",{class:"label-input-file",for:"photo_user"},"Choose a file",-1),oe={class:"line-three"},se={class:"password input-wrapper"},ie=Object(r["g"])("label",{for:"password"},"Password",-1),ue={class:"request-password input-wrapper"},le=Object(r["g"])("label",{for:"request-password"},"Request Password",-1),pe={class:"actions"},be={class:"account"},fe=Object(r["i"])("Do you already have an account?"),ge=Object(r["g"])("span",null,"or",-1),de=Object(r["g"])("i",{class:"fab fa-google"},null,-1),me=Object(r["i"])("Sign Up with Google"),he=[de,me],je=Object(r["g"])("i",{class:"fab fa-facebook-f"},null,-1),Oe=Object(r["i"])("Sign Up with Facebook"),ve=[je,Oe];function we(e,t,n,c,a,o){var s=Object(r["y"])("router-link");return Object(r["t"])(),Object(r["f"])("div",$,[z,Object(r["g"])("div",B,[Object(r["g"])("h2",{onClick:t[0]||(t[0]=function(){return o.test&&o.test.apply(o,arguments)})},"Sign Up"),Object(r["g"])("div",K,[Object(r["g"])("form",{class:"form",id:"form",onSubmit:t[7]||(t[7]=Object(r["H"])((function(){return e.signup&&e.signup.apply(e,arguments)}),["prevent"]))},[Object(r["g"])("div",Y,[Object(r["g"])("div",Q,[Object(r["F"])(Object(r["g"])("input",{type:"text",id:"name",class:Object(r["p"])(["input",{emptyInput:""!==a.name}]),"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.name=e}),required:""},null,2),[[r["C"],a.name]]),X]),Object(r["g"])("div",Z,[Object(r["F"])(Object(r["g"])("input",{type:"text",id:"last-name",class:Object(r["p"])(["input",{emptyInput:""!==a.lastName}]),"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.lastName=e}),required:""},null,2),[[r["C"],a.lastName]]),ee])]),Object(r["g"])("div",te,[Object(r["g"])("div",ne,[Object(r["F"])(Object(r["g"])("input",{type:"email",id:"email",class:Object(r["p"])(["input",{emptyInput:""!==a.email}]),"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.email=e}),required:""},null,2),[[r["C"],a.email]]),re]),Object(r["g"])("div",ce,[Object(r["g"])("input",{type:"file",id:"photo_user",class:"input",onChange:t[4]||(t[4]=function(e){return o.selectedPhoto(e)}),accept:"image/png, image/gif, image/jpeg"},null,32),ae,Object(r["g"])("span",null,Object(r["A"])(a.photoName),1)])]),Object(r["g"])("div",oe,[Object(r["g"])("div",se,[Object(r["F"])(Object(r["g"])("input",{type:"password",id:"password",class:Object(r["p"])(["input",{emptyInput:""!==a.password}]),"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.password=e}),required:""},null,2),[[r["C"],a.password]]),ie]),Object(r["g"])("div",ue,[Object(r["F"])(Object(r["g"])("input",{type:"password",id:"request-password",class:Object(r["p"])(["input",{emptyInput:""!==a.requestPassword}]),"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.requestPassword=e}),required:""},null,2),[[r["C"],a.requestPassword]]),le])])],32)]),Object(r["g"])("div",pe,[Object(r["g"])("button",{onClick:t[8]||(t[8]=function(e){return o.clearInput()}),class:"cancel"}),Object(r["g"])("button",{onClick:t[9]||(t[9]=function(e){return o.signUpWithEmail()}),form:"form",type:"submit",value:"signup",class:"submit"})]),Object(r["g"])("div",be,[Object(r["j"])(s,{to:"/login"},{default:Object(r["E"])((function(){return[fe]})),_:1})]),ge,Object(r["g"])("button",{onClick:t[10]||(t[10]=function(){return o.signUpWithGoogle&&o.signUpWithGoogle.apply(o,arguments)}),class:"google"},he),Object(r["g"])("button",{onClick:t[11]||(t[11]=function(){return o.signUpWithFacebook&&o.signUpWithFacebook.apply(o,arguments)}),class:"facebook"},ve)])])}n("99af");var ye={name:"SignUpComponent",data:function(){return{db:Object(I["e"])(),user_name:"",photo_url:"",email:"",password:"",lastName:"",name:"",requestPassword:"",selectedUserPhoto:"",selectedPhotoName:"",photoName:"selected item"}},methods:{test:function(){V.test()},selectedPhoto:function(e){this.selectedUserPhoto=e.target.files[0],this.photoName=this.selectedUserPhoto.name},signUpWithEmail:function(){var e=this,t=s["a"].storage().ref();this.password===this.requestPassword?s["a"].auth().createUserWithEmailAndPassword(this.email,this.password).then(function(){var n=Object(W["a"])(regeneratorRuntime.mark((function n(r){var c,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(c="".concat(e.name," ").concat(e.lastName),a={fullName:c,email:e.email,photoURL:""},""==e.selectedUserPhoto){n.next=5;break}return n.next=5,t.child("/photos/".concat(r.user.uid)).put(e.selectedUserPhoto).then(Object(W["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.child("/photos/".concat(r.user.uid)).getDownloadURL().then((function(e){a.photoURL=e})).catch((function(e){return L.a["error"](e,"An error has occurred")}));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){return L.a["error"](e,"An error has occurred")}));case 5:return n.next=7,Object(I["i"])(Object(I["b"])(e.db,"users",r.user.uid),a).then((function(){L.a["success"]("Welcome! ".concat(c),"Successful"),setTimeout((function(){location.replace("/messeges")}),1500)})).catch((function(e){L.a["error"](e,"Error")}));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(){L.a["error"]("The email address is already in use by another account","Error")})):L.a["error"]("The email or password do not match","Error")},signUpWithGoogle:function(){V.signInWithGoogle()},signUpWithFacebook:function(){V.signInWithFacebook()},clearInput:function(){this.lastName="",this.name="",this.email="",this.password="",this.requestPassword="",this.requestEmail="",location.replace("/login")}}};n("21fa");const ke=l()(ye,[["render",we]]);var Ue=ke;function _e(e,t,n,c,a,o){var s=Object(r["y"])("NavComponent"),i=Object(r["y"])("ChatComponent");return Object(r["t"])(),Object(r["f"])(r["a"],null,[Object(r["j"])(s),Object(r["j"])(i)],64)}var xe={class:"chat-container"},Ce=Object(r["g"])("span",{class:"blur-background"},null,-1),Pe={class:"chat-wrapper"},Re=Object(r["g"])("h2",null,"Users",-1),Ee={class:"all-users-wrapper"},Ne=["onClick"],We=["src"],Ie={class:"user"},Te={class:"user-name"},Se={class:"user-data"},Le={class:"actual-contact"},Ae=["src"],Fe={key:0,class:"messeges-container"},Me={class:"text"},qe={class:"time"},Ge={id:"scrble",ref:"scrollable"},Ve={class:"input-text"},De=Object(r["g"])("i",{class:"far fa-paper-plane"},null,-1),He=[De],Je=Object(r["g"])("h3",null,"Select one user to chat",-1),$e=[Je];function ze(e,t,n,c,a,o){return Object(r["t"])(),Object(r["f"])("div",xe,[Ce,Object(r["g"])("div",Pe,[Object(r["g"])("div",{class:Object(r["p"])(["users-area",{"toggle-user":!0===a.barsToggle}])},[Re,Object(r["g"])("div",Ee,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(a.users,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"user-wrapper",key:e.id,onClick:function(t){return o.selectUserToChat(e)}},[Object(r["g"])("img",{draggable:"false",class:"user-photo",src:e.photoURL,onError:t[0]||(t[0]=function(){return o.imgError&&o.imgError.apply(o,arguments)}),alt:"profile photo"},null,40,We),Object(r["g"])("div",Ie,[Object(r["g"])("h3",Te,Object(r["A"])(e.fullName),1),Object(r["g"])("p",Se,Object(r["A"])(e.email),1)])],8,Ne)})),128))])],2),Object(r["g"])("span",null,[Object(r["g"])("i",{class:"fal fa-bars",onClick:t[1]||(t[1]=function(){return o.toggleUsers&&o.toggleUsers.apply(o,arguments)})})]),a.selectedUser?(Object(r["t"])(),Object(r["f"])("div",{key:0,class:Object(r["p"])(["messege-area-wrapper",{toggle:!0===a.barsToggle}])},[Object(r["g"])("div",Le,[Object(r["g"])("img",{src:a.photo_url,onError:t[2]||(t[2]=function(){return o.imgError&&o.imgError.apply(o,arguments)}),alt:"profile"},null,40,Ae),Object(r["g"])("div",null,[Object(r["g"])("h2",null,Object(r["A"])(a.user_name),1),Object(r["g"])("h3",null,Object(r["A"])(a.user_email),1)])]),a.currentUser?(Object(r["t"])(),Object(r["f"])("div",Fe,[(Object(r["t"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(a.usersMesseges,(function(e){return Object(r["t"])(),Object(r["f"])("div",{class:"messege-wrapper",key:e.key},[e.transmitter===a.currentUser&&e.receive===a.user_id||e.transmitter===a.user_id&&e.receive===a.currentUser?(Object(r["t"])(),Object(r["f"])("div",{key:0,class:Object(r["p"])(["messege",e.transmitter===a.currentUser?"current-user":"messege"])},[Object(r["g"])("p",Me,Object(r["A"])(e.messege),1),Object(r["g"])("h4",qe,Object(r["A"])(e.time),1)],2)):Object(r["e"])("",!0)])})),128)),Object(r["g"])("div",Ge,null,512)])):Object(r["e"])("",!0),Object(r["g"])("div",Ve,[Object(r["F"])(Object(r["g"])("input",{onKeyup:t[3]||(t[3]=Object(r["G"])((function(e){return o.sendMessege()}),["enter"])),"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.messegeToSend=e}),type:"text",placeholder:"Messege"},null,544),[[r["C"],a.messegeToSend]]),Object(r["g"])("span",{onClick:t[5]||(t[5]=function(){return o.sendMessege&&o.sendMessege.apply(o,arguments)}),class:"send"},He)])],2)):(Object(r["t"])(),Object(r["f"])("div",{key:1,class:Object(r["p"])(["no-selected-user",{toggle:!0===a.barsToggle}])},$e,2))])])}var Be=n("5530"),Ke=(n("d3b7"),n("159b"),{name:"ChatComponent",data:function(){return{auth:Object(T["a"])(),selectedUser:!1,users:[],defaultImageError:n("c121"),user_name:"",photo_url:"",user_email:"",currentUser:"",user_id:"",time:"",db:Object(I["e"])(),messegeToSend:"",dataMessege:[],usersMesseges:[],barsToggle:!1}},methods:{toggleUsers:function(){this.barsToggle?this.barsToggle=!1:this.barsToggle=!0},getCurrentUser:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(T["b"])(e.auth,(function(t){t&&(e.currentUser=t.uid)}));case 2:case"end":return t.stop()}}),t)})))()},selectUserToChat:function(e){var t=this;this.barsToggle=!1,this.selectedUser=!0,this.user_name=e.fullName,this.user_email=e.email,this.photo_url=e.photoURL,this.user_id=e.id,setTimeout((function(){t.$refs["scrollable"].scrollIntoView({behavior:"smooth"})}),300)},setTime:function(e){var t=e.getHours(),n=e.getMinutes(),r=t>=12?"pm":"am";t%=12,t=t||12,n=n<10?"0"+n:n;var c=t+":"+n+" "+r;return c},sendMessege:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataMessege={receive:e.user_id,transmitter:e.currentUser,messege:e.messegeToSend,time:e.setTime(new Date),createdAt:Date.now()},e.usersMesseges=[],t.next=4,Object(I["i"])(Object(I["b"])(Object(I["a"])(e.db,"messeges")),e.dataMessege).then((function(){e.messegeToSend="",e.$refs["scrollable"].scrollIntoView({behavior:"smooth"})})).catch((function(e){L.a["error"](e,"Error")}));case 4:case"end":return t.stop()}}),t)})))()},getDocs:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(I["a"])(e.db,"users"),r=Object(I["h"])(n,Object(I["g"])("fullName","asc")),Object(I["f"])(r,(function(t){t.docs.forEach((function(t){t.id!=e.currentUser&&e.users.push(Object(Be["a"])(Object(Be["a"])({},t.data()),{},{id:t.id}))}))}));case 3:case"end":return t.stop()}}),t)})))()},uploadMesseges:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(I["a"])(e.db,"messeges"),r=Object(I["h"])(n,Object(I["g"])("createdAt","asc")),t.next=4,Object(I["f"])(r,(function(t){e.usersMesseges=[],t.docs.forEach((function(t){e.usersMesseges.push(t.data())})),!0===e.selectedUser&&setTimeout((function(){e.$refs["scrollable"].scrollIntoView({behavior:"smooth"})}),300)}));case 4:case"end":return t.stop()}}),t)})))()},imgError:function(e){e.target.src=this.defaultImageError}},mounted:function(){this.getCurrentUser(),this.getDocs(),this.uploadMesseges()}});n("4ed4");const Ye=l()(Ke,[["render",ze]]);var Qe=Ye,Xe={class:"nav-container"},Ze={"data-content":"profile"},et=Object(r["g"])("i",{class:"fas fa-user-circle"},null,-1),tt={"data-content":"chat"},nt=Object(r["g"])("i",{class:"far fa-comment-dots"},null,-1),rt=Object(r["g"])("i",{class:"fal fa-sign-out-alt"},null,-1),ct=[rt];function at(e,t,n,c,a,o){var s=Object(r["y"])("router-link");return Object(r["t"])(),Object(r["f"])("div",Xe,[Object(r["g"])("ul",null,[Object(r["g"])("li",Ze,[Object(r["j"])(s,{to:"/profile"},{default:Object(r["E"])((function(){return[et]})),_:1})]),Object(r["g"])("li",tt,[Object(r["j"])(s,{to:"/messeges"},{default:Object(r["E"])((function(){return[nt]})),_:1})]),Object(r["g"])("li",{"data-content":"logout",onClick:t[0]||(t[0]=function(e){return o.Logout()})},ct)])])}var ot={name:"NavComponent",methods:{Logout:function(){V.logout()}}};n("316a");const st=l()(ot,[["render",at]]);var it=st,ut={name:"Chat",components:{ChatComponent:Qe,NavComponent:it}};const lt=l()(ut,[["render",_e]]);var pt=lt;function bt(e,t,n,c,a,o){var s=Object(r["y"])("NavComponent"),i=Object(r["y"])("ProfileComponent");return Object(r["t"])(),Object(r["f"])(r["a"],null,[Object(r["j"])(s),Object(r["j"])(i)],64)}var ft={class:"profile-container"},gt=Object(r["g"])("span",{class:"blur-background"},null,-1),dt={key:0,class:"actions"},mt={class:"profile-wrapper"},ht=Object(r["g"])("h4",null,"Your profile:",-1),jt={class:"photo-row"},Ot=Object(r["g"])("td",{class:"first-column"},"Photo:",-1),vt={for:"file"},wt=["src"],yt=Object(r["g"])("span",null,[Object(r["g"])("i",{class:"fal fa-upload"})],-1),kt=Object(r["g"])("td",{class:"first-column"},"Name:",-1),Ut=Object(r["g"])("td",{class:"first-column"},"Email:",-1);function _t(e,t,n,c,a,o){return Object(r["t"])(),Object(r["f"])("div",ft,[gt,a.edit?(Object(r["t"])(),Object(r["f"])("div",dt,[Object(r["g"])("button",{onClick:t[0]||(t[0]=function(){return o.cancel&&o.cancel.apply(o,arguments)}),class:"cancel-button"},"Cancel"),Object(r["g"])("button",{onClick:t[1]||(t[1]=function(){return o.savePhoto&&o.savePhoto.apply(o,arguments)}),class:"save-button"},"Save")])):Object(r["e"])("",!0),Object(r["g"])("div",mt,[ht,Object(r["g"])("table",null,[Object(r["g"])("tr",jt,[Ot,Object(r["g"])("td",null,[Object(r["g"])("input",{type:"file",id:"file",onChange:t[2]||(t[2]=function(e){return o.changePhoto(e)})},null,32),Object(r["g"])("label",vt,[Object(r["g"])("img",{draggable:"false",src:a.photo_url,onError:t[3]||(t[3]=function(){return o.imgError&&o.imgError.apply(o,arguments)}),alt:"profile_photo"},null,40,wt),yt])])]),Object(r["g"])("tr",null,[kt,Object(r["g"])("td",null,Object(r["A"])(a.user_name),1)]),Object(r["g"])("tr",null,[Ut,Object(r["g"])("td",null,Object(r["A"])(a.user_email),1)])])])])}var xt={name:"ProfileComponent",data:function(){return{current_user:[],user_name:"",photo_url:"",user_email:"",user_uid:"",selectedPhoto:"",edit:!1,db:Object(I["e"])(),defaultImageError:n("c121")}},methods:{cancel:function(){this.edit=!1,this.selectedPhoto=null},changePhoto:function(e){this.edit=!0,this.selectedPhoto=e.target.files[0]},savePhoto:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=s["a"].storage().ref(),r=e.current_user[0].id,c={fullName:e.user_name,email:e.user_email,id:r,photoURL:""},""==e.selectedPhoto){t.next=6;break}return t.next=6,n.child("/photos/".concat(r)).put(e.selectedPhoto).then(Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.child("/photos/".concat(r)).getDownloadURL().then(function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c.photoURL=n,t.next=3,Object(I["i"])(Object(I["b"])(e.db,"users",r),c).then((function(){L.a["success"]("","Successful"),e.photo_url=e.current_user[0].photoURL,e.edit=!1,setTimeout((function(){location.reload()}),500)})).catch((function(e){L.a["error"](e,"Error")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return L.a["error"](e,"An error has occurred 2")}));case 2:case"end":return t.stop()}}),t)})))).catch((function(e){return L.a["error"](e,"An error has occurred 1")}));case 6:case"end":return t.stop()}}),t)})))()},getUserData:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object(T["a"])(),t.next=3,Object(T["b"])(r,(function(t){t&&(e.user_uid=t.uid)}));case 3:return t.next=5,Object(I["d"])(Object(I["a"])(Object(I["e"])(),"users"));case 5:c=t.sent,c.forEach((function(t){t.id===e.user_uid&&e.current_user.push(t.data())})),e.user_name=e.current_user[0].fullName,e.user_email=e.current_user[0].email,e.photo_url=e.current_user[0].photoURL,""===e.current_user[0].photoURL&&(e.photo_url=n("c121"));case 11:case"end":return t.stop()}}),t)})))()},imgError:function(e){e.target.src=this.defaultImageError}},mounted:function(){this.getUserData()}};n("441e");const Ct=l()(xt,[["render",_t]]);var Pt=Ct,Rt={name:"Chat",components:{ProfileComponent:Pt,NavComponent:it}};const Et=l()(Rt,[["render",bt]]);var Nt=Et,Wt={class:"recover-container"},It=Object(r["g"])("div",{class:"blur-background"},null,-1),Tt={class:"recover-wrapper"},St=Object(r["g"])("h2",null,"Enter your email to reset your password",-1),Lt={class:"input-wrapper"},At=Object(r["g"])("label",{for:"email"},"Email",-1);function Ft(e,t,n,c,a,o){var s=Object(r["y"])("router-link");return Object(r["t"])(),Object(r["f"])("div",Wt,[It,Object(r["g"])("div",Tt,[St,Object(r["g"])("div",Lt,[Object(r["F"])(Object(r["g"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),class:Object(r["p"])({emptyInput:""!==a.email})},null,2),[[r["C"],a.email]]),At]),Object(r["g"])("button",{class:"send-button",onClick:t[1]||(t[1]=function(){return o.recoverPassword&&o.recoverPassword.apply(o,arguments)})},"click")]),Object(r["j"])(s,{to:"/login",class:"return"})])}var Mt={name:"Recover",data:function(){return{email:""}},methods:{recoverPassword:function(){var e=Object(T["a"])();Object(T["c"])(e,this.email).then((function(){console.log("se mandó")})).catch((function(e){e.code,e.message}))}}};n("7012");const qt=l()(Mt,[["render",Ft]]);var Gt=qt,Vt={class:"error-container"},Dt=Object(r["h"])('<span class="bg"></span><span class="block"></span><span class="block"></span><span class="block"></span><span class="block"></span><h1>Error 404</h1>',6),Ht=[Dt];function Jt(e,t,n,c,a,o){return Object(r["t"])(),Object(r["f"])("div",Vt,Ht)}var $t={name:"404"};n("c56f");const zt=l()($t,[["render",Jt]]);var Bt=zt,Kt=[{path:"/",name:"Auth",redirect:"/login",component:J},{path:"/login",name:"Login",component:J},{path:"/signup",name:"SignUp",component:Ue},{path:"/messeges",name:"Messeges",component:pt},{path:"/profile",name:"Profile",component:Nt},{path:"/recover",name:"Recover",component:Gt},{path:"/:catchMatch(.*)*",name:"404",component:Bt}],Yt=Object(o["a"])({history:Object(o["b"])("/Chat/"),routes:Kt}),Qt=Yt,Xt=(n("588e"),n("256a"),{apiKey:"AIzaSyA75OOJWRN3n3B-_3hEireV569whygQ17o",authDomain:"chat-production-75509.firebaseapp.com",projectId:"chat-production-75509",storageBucket:"chat-production-75509.appspot.com",messagingSenderId:"493644836494",appId:"1:493644836494:web:6072110bfb38144f77a3df"});s["a"].initializeApp(Xt),Object(r["c"])(b).use(Qt).mount("#app")},"5a79":function(e,t,n){"use strict";n("07cc")},"693f":function(e,t,n){},7012:function(e,t,n){"use strict";n("693f")},"82c5":function(e,t,n){},a8ed:function(e,t,n){},c121:function(e,t,n){e.exports=n.p+"img/user.04b2bd95.png"},c56f:function(e,t,n){"use strict";n("3d20")},ca68:function(e,t,n){},dfe3:function(e,t,n){"use strict";n("ca68")}});
//# sourceMappingURL=app.b5be61ba.js.map